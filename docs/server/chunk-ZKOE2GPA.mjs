import './polyfills.server.mjs';
import{c as N,d as ie,f as ne}from"./chunk-KKSR4KQA.mjs";import{Ea as Z,F as c,G as f,Ha as ee,Ia as te,J as g,K as m,Ka as k,L as o,M as t,N as p,O as Q,P as b,Q as C,R,S as a,T as u,U as d,V as B,W as P,X as w,Y as D,b as j,c as U,d as $,f as z,g as x,i as J,j as _,l as H,ma as W,n as h,na as M,o as T,oa as E,p as G,pa as L,q as K,qa as X,va as Y,z as F}from"./chunk-RDHNF2DT.mjs";import"./chunk-VVCT4QZE.mjs";var y=(()=>{let e=class e{constructor(i){this.http=i,this.url="https://restcountries.com/v3.1",this.cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}},typeof window<"u"&&(this.localStorage=window.localStorage,this.loadFromLocalStorage()),this.loadFromLocalStorage()}saveToLocalStorage(){this.localStorage&&this.localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadFromLocalStorage(){if(this.localStorage){let i=this.localStorage.getItem("cacheStore");i&&(this.cacheStore=JSON.parse(i))}}getCountriesRequest(i){return this.http.get(i).pipe($(r=>j([])))}searchCountryByAlphaCode(i){let r=`${this.url}/alpha/${i}`;return this.http.get(r).pipe(U(l=>l.length>0?l[0]:null),$(()=>j(null)))}searchCapital(i){let r=`${this.url}/capital/${i}`;return this.getCountriesRequest(r).pipe(x(l=>this.cacheStore.byCapital={term:i,countries:l}),x(()=>this.saveToLocalStorage()))}searchCountry(i){let r=`${this.url}/name/${i}`;return this.getCountriesRequest(r).pipe(x(l=>this.cacheStore.byCountries={term:i,countries:l}),x(()=>this.saveToLocalStorage()))}searchRegion(i){let r=`${this.url}/region/${i}`;return this.getCountriesRequest(r).pipe(x(l=>this.cacheStore.byRegion={region:i,countries:l}),x(()=>this.saveToLocalStorage()))}};e.\u0275fac=function(r){return new(r||e)(H(Y))},e.\u0275prov=J({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function me(n,e){n&1&&(o(0,"div",2),a(1,` No hay pa\xEDses que mostrar
`),t())}var pe=n=>["/countries/by",n];function ue(n,e){if(n&1&&(o(0,"tr")(1,"td"),a(2),t(),o(3,"td"),a(4),t(),o(5,"td"),p(6,"img",5),t(),o(7,"td"),a(8),t(),o(9,"td"),a(10),t(),o(11,"td"),a(12),P(13,"number"),t(),o(14,"td")(15,"a",6),a(16,"Ver"),t()()()),n&2){let s=e.$implicit,i=e.index;c(2),u(i+1),c(2),d(" ",s.flag," "),c(2),m("src",s.flags.svg,F)("alt",s.name.common),c(2),d(" ",s.name.common," "),c(2),d(" ",s.capital," "),c(2),d(" ",w(13,8,s.population)," "),c(3),m("routerLink",B(10,pe,s.cca3))}}function de(n,e){if(n&1&&(o(0,"table",3)(1,"thead")(2,"tr")(3,"th"),a(4,"Nro"),t(),o(5,"th"),a(6,"Sigla"),t(),o(7,"th"),a(8,"Bandera"),t(),o(9,"th"),a(10,"Nombre"),t(),o(11,"th"),a(12,"Capital"),t(),o(13,"th"),a(14,"Poblaci\xF3n"),t(),p(15,"th"),t()(),o(16,"tbody"),g(17,ue,17,12,"tr",4),t()()),n&2){let s=C();c(17),m("ngForOf",s.countries)}}var I=(()=>{let e=class e{constructor(){this.countries=[]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=h({type:e,selectors:[["countries-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["class","alert alert-primary text-center",4,"ngIf","ngIfElse"],["table",""],[1,"alert","alert-primary","text-center"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"src","alt"],[1,"btn","btn-primary",3,"routerLink"]],template:function(r,l){if(r&1&&g(0,me,2,0,"div",0)(1,de,18,1,"ng-template",null,1,D),r&2){let v=R(2);m("ngIf",l.countries.length===0)("ngIfElse",v)}},dependencies:[M,E,te,L],styles:["img[_ngcontent-%COMP%]{width:25px}"]});let n=e;return n})();function fe(n,e){n&1&&p(0,"shared-loading-spinner")}var oe=(()=>{let e=class e{constructor(i){this.contriesServices=i,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){this.countries=this.contriesServices.cacheStore.byCapital.countries,this.initialValue=this.contriesServices.cacheStore.byCapital.term}searchByCapital(i){this.isLoading=!0,this.contriesServices.searchCapital(i).subscribe(r=>{this.countries=r,this.isLoading=!1})}};e.\u0275fac=function(r){return new(r||e)(f(y))},e.\u0275cmp=h({type:e,selectors:[["countries-by-capital-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Ingresa la capital",3,"initialValue","onDebounce"],[4,"ngIf"],[3,"countries"]],template:function(r,l){r&1&&(o(0,"h2"),a(1,"Por Capital"),t(),p(2,"hr"),o(3,"div",0)(4,"div",1)(5,"shared-search-box",2),b("onDebounce",function(V){return l.searchByCapital(V)}),t()()(),o(6,"div",0)(7,"div",1),p(8,"hr"),g(9,fe,1,0,"shared-loading-spinner",3),p(10,"countries-table",4),t()()),r&2&&(c(5),m("initialValue",l.initialValue),c(4),m("ngIf",l.isLoading),c(),m("countries",l.countries))},dependencies:[E,N,ie,I],encapsulation:2});let n=e;return n})();var re=(()=>{let e=class e{constructor(i){this.contriesServices=i,this.countries=[],this.initialValue=""}ngOnInit(){this.countries=this.contriesServices.cacheStore.byCountries.countries,this.initialValue=this.contriesServices.cacheStore.byCountries.term}searchByCountry(i){this.contriesServices.searchCountry(i).subscribe(r=>{this.countries=r})}};e.\u0275fac=function(r){return new(r||e)(f(y))},e.\u0275cmp=h({type:e,selectors:[["countries-by-country-page"]],decls:10,vars:2,consts:[[1,"row"],[1,"col"],["placeholder","Ingresa el pa\xEDs",3,"initialValue","onDebounce"],[3,"countries"]],template:function(r,l){r&1&&(o(0,"h2"),a(1,"Por Pa\xEDs"),t(),p(2,"hr"),o(3,"div",0)(4,"div",1)(5,"shared-search-box",2),b("onDebounce",function(V){return l.searchByCountry(V)}),t()()(),o(6,"div",0)(7,"div",1),p(8,"hr")(9,"countries-table",3),t()()),r&2&&(c(5),m("initialValue",l.initialValue),c(4),m("countries",l.countries))},dependencies:[N,I],encapsulation:2});let n=e;return n})();var ge=n=>({"btn-primary text-white":n});function ye(n,e){if(n&1){let s=Q();o(0,"button",5),b("click",function(){let l=G(s).$implicit,v=C();return K(v.searchByRegion(l))}),a(1),t()}if(n&2){let s=e.$implicit,i=C();m("ngClass",B(2,ge,i.selectedRegion===s)),c(),d(" ",s," ")}}var ae=(()=>{let e=class e{constructor(i){this.contriesServices=i,this.countries=[],this.regions=["Africa","Americas","Asia","Europe","Oceania"]}ngOnInit(){this.countries=this.contriesServices.cacheStore.byRegion.countries,this.selectedRegion=this.contriesServices.cacheStore.byRegion.region}searchByRegion(i){this.selectedRegion=i,this.contriesServices.searchRegion(i).subscribe(r=>{this.countries=r})}};e.\u0275fac=function(r){return new(r||e)(f(y))},e.\u0275cmp=h({type:e,selectors:[["countries-by-region-page"]],decls:10,vars:2,consts:[[1,"row"],[1,"col","text-center"],["class","btn btn-outline-primary mx-1",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col"],[3,"countries"],[1,"btn","btn-outline-primary","mx-1",3,"ngClass","click"]],template:function(r,l){r&1&&(o(0,"h2"),a(1,"Por Regi\xF3n"),t(),p(2,"hr"),o(3,"div",0)(4,"div",1),g(5,ye,2,4,"button",2),t()(),o(6,"div",0)(7,"div",3),p(8,"hr")(9,"countries-table",4),t()()),r&2&&(c(5),m("ngForOf",l.regions),c(4),m("countries",l.countries))},dependencies:[W,M,I],encapsulation:2});let n=e;return n})();function ve(n,e){n&1&&(o(0,"div",2),a(1,"Esperen por favor"),t())}function xe(n,e){if(n&1&&(o(0,"div")(1,"div",3)(2,"div",4)(3,"h2"),a(4," Pa\xEDs: "),o(5,"strong"),a(6),t()(),p(7,"hr"),t()(),o(8,"div",3)(9,"div",5)(10,"h3"),a(11,"Bandera"),t(),p(12,"img",6),t(),o(13,"div",7)(14,"h3"),a(15,"Informaci\xF3n"),t(),o(16,"ul",8)(17,"li",9)(18,"strong"),a(19,"Poblaci\xF3n: "),t(),a(20),P(21,"number"),t(),o(22,"li",9)(23,"strong"),a(24,"Capital: "),t(),a(25),t(),o(26,"li",9)(27,"strong"),a(28,"C\xF3digo: "),t(),a(29),t(),o(30,"li",9)(31,"strong"),a(32,"C\xF3digo: "),t(),a(33),t()()()(),o(34,"div",10)(35,"div",7)(36,"h3"),a(37,"Traducciones"),t(),o(38,"div",11)(39,"span",12),a(40),t(),o(41,"span",12),a(42),t(),o(43,"span",12),a(44),t(),o(45,"span",12),a(46),t(),o(47,"span",12),a(48),t(),o(49,"span",12),a(50),t(),o(51,"span",12),a(52),t(),o(53,"span",12),a(54),t(),o(55,"span",12),a(56),t(),o(57,"span",12),a(58),t()()()()()),n&2){let s=C();c(6),u(s.country.name.common),c(6),m("src",s.country.flags.svg,F)("alt",s.country.name.common),c(8),d("",w(21,17,s.country.population)," "),c(5),d("",s.country.capital," "),c(4),d("",s.country.cca3," "),c(4),d("",s.country.cca3," "),c(7),u(s.country.translations.ara.common),c(2),u(s.country.translations.bre.common),c(2),u(s.country.translations.ces.common),c(2),u(s.country.translations.cym.common),c(2),u(s.country.translations.deu.common),c(2),u(s.country.translations.est.common),c(2),u(s.country.translations.fin.common),c(2),u(s.country.translations.ita.common),c(2),u(s.country.translations.kor.common),c(2),u(s.country.translations.per.common)}}var ce=(()=>{let e=class e{constructor(i,r,l){this.activatedRoute=i,this.countriesService=r,this.router=l}ngOnInit(){this.activatedRoute.params.pipe(z(({id:i})=>this.countriesService.searchCountryByAlphaCode(i))).subscribe(i=>i?this.country=i:this.router.navigateByUrl(""))}};e.\u0275fac=function(r){return new(r||e)(f(Z),f(y),f(ee))},e.\u0275cmp=h({type:e,selectors:[["countries-country-page"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"alert","alert-primary"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-3"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","m-1"]],template:function(r,l){if(r&1&&g(0,ve,2,0,"ng-template",null,0,D)(2,xe,59,19,"div",1),r&2){let v=R(1);c(2),m("ngIf",l.country)("ngIfElse",v)}},dependencies:[E,L],encapsulation:2});let n=e;return n})();var Ce=[{path:"by-capital",component:oe},{path:"by-country",component:re},{path:"by-region",component:ae},{path:"by/:id",component:ce},{path:"**",redirectTo:"by-capital"}],se=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=T({type:e}),e.\u0275inj=_({imports:[k.forChild(Ce),k]});let n=e;return n})();var Ke=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=T({type:e}),e.\u0275inj=_({imports:[X,se,ne]});let n=e;return n})();export{Ke as CountriesModule};
